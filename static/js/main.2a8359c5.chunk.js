(this.webpackJsonpwatcha=this.webpackJsonpwatcha||[]).push([[0],{11:function(e,t,c){e.exports={div:"style_div__ZnPH8",relative:"style_relative__2mYMI",ul:"style_ul__3pM0j",button:"style_button__392yf",next:"style_next__3xExs",hidden:"style_hidden__2S9n8"}},14:function(e,t,c){e.exports={back:"style_back__X9y0v",scrollHeader:"style_scrollHeader__12oBb",hide:"style_hide__3A4H9",show:"style_show__2JvEq"}},21:function(e,t,c){e.exports={header:"style_header__3ta0p",h1:"style_h1__2Peht",div:"style_div__3sk5l"}},22:function(e,t,c){e.exports={li:"style_li__3jKqm",img:"style_img__FPaaf",p:"style_p__1VPp7"}},23:function(e,t,c){e.exports={p:"style_p__kRHe5"}},28:function(e,t,c){e.exports={div:"style_div__3nzVJ",ul:"style_ul__2hON5"}},3:function(e,t,c){e.exports={relative:"style_relative__hiGfB",container:"style_container__1L2_n",info:"style_info__39m1R",backContainer:"style_backContainer__3FEyP",linearGradient:"style_linearGradient__3N1PH",back:"style_back__1KjdL",title:"style_title__2xIjy",div:"style_div__2FCnH",agerage:"style_agerage__U8UXO",vote:"style_vote__hAooa",adult:"style_adult__1ZiZB",pre:"style_pre__bPUl3",detail:"style_detail__3rgyU",genres:"style_genres__13S6p",p:"style_p__ndbYl"}},43:function(e,t,c){},44:function(e,t,c){},54:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),s=c.n(a),r=c(30),i=c.n(r),o=(c(43),c(18)),l=c(4),j=(c(44),c(7)),u=c.n(j),d=Object(a.memo)((function(){return Object(n.jsxs)("footer",{children:[Object(n.jsx)("span",{className:u.a.title,children:"Watcha"}),Object(n.jsxs)("div",{className:u.a.container,children:[Object(n.jsx)("span",{className:u.a.menu,children:"\uac1c\uc778\uc815\ubcf4"}),Object(n.jsx)("span",{className:u.a.name,children:"\uc774\uc9c0\ud6c8"}),Object(n.jsx)("span",{className:u.a.phone,children:"010-9262-5026"}),Object(n.jsx)("span",{className:u.a.email,children:"ljihoon0330@gmail.com"})]}),Object(n.jsxs)("div",{className:u.a.container,children:[Object(n.jsx)("span",{className:u.a.menu,children:"\ub2e4\ub978 \uc0ac\uc774\ud2b8"}),Object(n.jsx)("span",{className:u.a.name,children:Object(n.jsx)("a",{href:"https://store.whale.naver.com/detail/dbiaodjlomkfimfdajcpdgefpplhbche",target:"_blank",rel:"noreferrer",children:"\ub124\uc774\ubc84\uc6e8\uc77c \ud655\uc7a5\uc571 \uc544!\ub9de\ub2e4"})}),Object(n.jsx)("span",{className:u.a.name,children:Object(n.jsx)("a",{href:"https://jihoon-0330.github.io/recipe-app-recat",target:"_blank",rel:"noreferrer",children:"recipe-app"})})]}),Object(n.jsxs)("div",{className:u.a.container,children:[Object(n.jsx)("span",{className:u.a.menu,children:"\uae43\ud5c8\ube0c"}),Object(n.jsx)("span",{className:u.a.name,children:Object(n.jsx)("a",{href:"https://github.com/JiHoon-0330/naver-alarm-extensions",target:"_blank",rel:"noreferrer",children:"\ub124\uc774\ubc84\uc6e8\uc77c \ud655\uc7a5\uc571 \uc544!\ub9de\ub2e4"})}),Object(n.jsx)("span",{className:u.a.name,children:Object(n.jsx)("a",{href:"https://github.com/JiHoon-0330/recipe-app-recat",target:"_blank",rel:"noreferrer",children:"recipe-app"})})]})]})})),b=c(6),h=s.a.createContext(),p=function(e){var t=e.children,c=Object(a.useState)(null),s=Object(b.a)(c,2),r=s[0],i=s[1],o=Object(a.useState)(0),l=Object(b.a)(o,2),j=l[0],u=l[1],d=Object(a.useState)(""),p=Object(b.a)(d,2),O=p[0],m=p[1];return Object(n.jsx)(h.Provider,{value:{movie:r,setMovie:i,container:j,setContainer:u,title:O,setTitle:m},children:t})},O=c(21),m=c.n(O),x=Object(a.memo)((function(){var e=Object(a.useContext)(h),t=e.title,c=e.setTitle,s=Object(l.g)(),r=Object(a.useRef)(),i=Object(a.useRef)();return Object(n.jsxs)("header",{className:m.a.header,children:[Object(n.jsx)(o.b,{to:"/",children:Object(n.jsx)("h1",{className:m.a.h1,children:"Watcha"})}),Object(n.jsxs)("div",{className:m.a.div,children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fas fa-search"})}),Object(n.jsx)("form",{ref:r,onSubmit:function(e){e.preventDefault(),i.current.value&&(c(""),s.push("/search/".concat(i.current.value)))},children:Object(n.jsx)("input",{ref:i,type:"text",placeholder:"\uc81c\ubaa9",value:t,onChange:function(){c(i.current.value)}})})]})]})})),v=c(14),f=c.n(v),_=function(){var e=Object(a.useState)(0),t=Object(b.a)(e,2),c=t[0],s=t[1];Object(a.useEffect)((function(){window.addEventListener("scroll",r)}),[c]);var r=function(e){var t=e.srcElement.scrollingElement.scrollTop;s(t)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"".concat(f.a.scrollHeader," ").concat(c<150?f.a.hide:f.a.show),children:Object(n.jsx)(x,{})}),Object(n.jsx)("div",{className:f.a.back,children:Object(n.jsx)("div",{className:"".concat(c>150?f.a.hide:f.a.show),children:Object(n.jsx)(x,{})})})]})},g=c(12),N=c(32),y=c(3),k=c.n(y),w=function(e){var t=e.movieApi,c=Object(a.useContext)(h),s=c.movie,r=c.container,i=c.setContainer,o=Object(a.useState)({}),l=Object(b.a)(o,2),j=l[0],u=l[1],d=Object(a.useRef)(),p=s.id,O=s.title,m=s.original_title,x=s.backdrop_path,v=s.adult,f=s.overview,_=s.vote_average,N=s.release_date,y=j.production_countries,w=j.runtime,M=j.genres,C=x?"https://image.tmdb.org/t/p/original".concat(x):"/not.jpeg",A=x?"https://image.tmdb.org/t/p/w200".concat(x):"/not.jpeg";return Object(a.useEffect)((function(){d.current.scrollIntoView({behavior:"smooth",block:"end"})}),[p,r]),Object(a.useEffect)((function(){t.getDetailMovie(p).then((function(e){e&&u(Object(g.a)({},e))}))}),[t,p]),Object(n.jsx)("div",{ref:d,className:k.a.relative,children:Object(n.jsxs)("div",{className:k.a.container,children:[Object(n.jsx)("button",{onClick:function(){i(!1)},children:Object(n.jsx)("i",{className:"fas fa-times"})}),Object(n.jsxs)("div",{className:k.a.info,children:[Object(n.jsx)("div",{className:k.a.title,children:O||m}),Object(n.jsxs)("div",{className:k.a.div,children:[Object(n.jsxs)("div",{className:k.a.agerage,children:[Object(n.jsx)("span",{children:"\uc608\uc0c1 \ubcc4\uc810"}),Object(n.jsx)("span",{className:k.a.vote,children:(_/2).toFixed(1)})]}),Object(n.jsxs)("div",{className:k.a.agerage,children:[Object(n.jsx)("span",{children:"\ud30c\ud2b8\ub108 \uc608\uc0c1 \ubcc4\uc810"}),Object(n.jsx)("span",{className:k.a.vote,children:((_+.3)/2).toFixed(1)})]}),Object(n.jsxs)("div",{className:k.a.agerage,children:[Object(n.jsx)("span",{children:"\ud3c9\uade0 \ubcc4\uc810"}),Object(n.jsx)("span",{className:k.a.vote,children:((_+.5)/2).toFixed(1)})]}),Object(n.jsx)("div",{className:k.a.adult,children:v?"\uccad\ubd88":"\uc804\uccb4"})]}),Object(n.jsx)("pre",{className:k.a.pre,children:f}),Object(n.jsxs)("div",{className:k.a.detail,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("ul",{className:k.a.genres,children:M&&M.map((function(e,t){return Object(n.jsx)("li",{children:t<M.length-1?"".concat(e.name,","):e.name},e.id)}))}),Object(n.jsx)("p",{className:k.a.p,children:y&&y[0]&&(M?"| ".concat(y[0].name):y[0].name)})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{className:k.a.p,children:N||"No Release Date"}),Object(n.jsxs)("p",{className:k.a.p,children:[" ","| ",w?"".concat(w,"min"):"No runtime"]})]})]})]}),Object(n.jsxs)("div",{className:k.a.backContainer,children:[Object(n.jsx)("div",{className:k.a.linearGradient}),Object(n.jsx)("div",{className:k.a.back,style:{backgroundImage:"url(".concat(C,"),url(").concat(A,")")}})]})]})})},M=c(22),C=c.n(M),A=Object(a.memo)((function(e){var t=e.popularMovie,c=e.containerIndex,s=t.title,r=t.original_title,i=t.poster_path,o=i?"https://image.tmdb.org/t/p/w500".concat(i):"/not.jpeg",l=Object(a.useContext)(h),j=l.setMovie,u=l.setContainer;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("li",{className:C.a.li,onClick:function(){j(Object(g.a)({},t)),u(c)},children:[Object(n.jsx)("span",{className:C.a.img,style:{backgroundImage:"url(".concat(o,")")}}),Object(n.jsx)("p",{className:C.a.p,children:s||r})]})})})),S=c(11),E=c.n(S),I=function(e){var t=e.movieApi,c=e.popularMovie,s=e.containerIndex,r=Object(a.useState)(0),i=Object(b.a)(r,2),o=i[0],l=i[1],j=Object(a.useContext)(h),u=j.container,d=j.setContainer;Object(a.useEffect)((function(){d(0)}),[d]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:E.a.div,children:[Object(n.jsxs)("div",{className:E.a.relative,children:[Object(n.jsx)("ul",{className:"".concat(E.a.ul," index").concat(o),children:Object.keys(c).map((function(e){return Object(n.jsx)(A,{popularMovie:c[e],containerIndex:s},e)}))}),Object(n.jsx)("button",{className:"".concat(E.a.button," ").concat(E.a.prev," ").concat(0===o?E.a.hidden:""),onClick:function(){l((function(e){var t=e-1;return t<0?0:t}))},children:Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fas fa-angle-left"})})}),Object(n.jsx)("button",{className:"".concat(E.a.button," ").concat(E.a.next," ").concat(2===o?E.a.hidden:""),onClick:function(){l((function(e){var t=e+1;return t>2?2:t}))},children:Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fas fa-angle-right"})})})]}),u===s&&Object(n.jsx)(w,{movieApi:t})]})})},P=c(23),H=c.n(P),F=function(e){var t=e.movieApi,c=Object(a.useState)({}),s=Object(b.a)(c,2),r=s[0],i=s[1],o=Object(a.useState)({}),l=Object(b.a)(o,2),j=l[0],u=l[1],d=Object(a.useState)({}),h=Object(b.a)(d,2),p=h[0],O=h[1];Object(a.useEffect)((function(){t.getPopularMovie(1).then((function(e){e&&m(e,1,i)})),t.getPopularMovie(2).then((function(e){e&&m(e,2,u)})),t.getPopularMovie(3).then((function(e){e&&m(e,3,O)}))}),[t]);var m=function(e,t,c){var n=e.results,a={};n.forEach((function(e,c){a["".concat(t,"-").concat(c)]=e})),c((function(e){return Object(g.a)(Object(g.a)({},e),a)}))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(N.a,{children:Object(n.jsx)("title",{children:"watcha"})}),Object(n.jsx)("p",{className:H.a.p,children:"\uc0c8\ub85c \uc62c\ub77c\uc628 \uc791\ud488"}),Object(n.jsx)(I,{movieApi:t,popularMovie:r,containerIndex:1}),Object(n.jsx)("p",{className:H.a.p,children:"\ud55c\ubc88 \ub354 \ubcfc\ub9cc\ud55c \uc791\ud488"}),Object(n.jsx)(I,{movieApi:t,popularMovie:j,containerIndex:2}),Object(n.jsx)("p",{className:H.a.p,children:"\ubc14\ub85c \uc9c0\uae08 \uc0ac\ub78c\ub4e4\uc774 \ud2b9\ud788 \ub9ce\uc774 \ubcf4\ub294 \uc791\ud488"}),Object(n.jsx)(I,{movieApi:t,popularMovie:p,containerIndex:3})]})},G=c(37),J=c(28),T=c.n(J),U=function(e){var t=e.movieApi,c=e.searchMovie,s=e.containerIndex,r=Object(a.useContext)(h),i=r.container,o=r.setContainer;return Object(a.useEffect)((function(){o(0),window.scrollTo(0,0)}),[c,o]),Object(n.jsxs)("div",{className:T.a.div,children:[Object(n.jsx)("ul",{className:T.a.ul,children:c.map((function(e){return Object(n.jsx)(A,{popularMovie:e,containerIndex:s},e.id)}))}),i===s&&Object(n.jsx)(w,{movieApi:t})]})},K=function(e){var t=e.movieApi,c=Object(l.h)().title,s=Object(a.useState)(!1),r=Object(b.a)(s,2),i=r[0],o=r[1];return Object(a.useEffect)((function(){t.getSearchMovie(c).then((function(e){if(e){for(var t=Object(G.a)(e.results),c=[];t.length>0;)c.push(t.splice(0,7));o(c)}}))}),[t,c]),Object(n.jsx)("div",{children:i&&i.map((function(e,c){return Object(n.jsx)(U,{movieApi:t,searchMovie:e,containerIndex:c+1},c)}))})};var R=function(e){var t=e.movieApi;return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(o.a,{children:[Object(n.jsx)(_,{}),Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/",exact:!0,children:Object(n.jsx)(F,{movieApi:t})}),Object(n.jsx)(l.b,{path:"/search/:title",children:Object(n.jsx)(K,{movieApi:t})}),Object(n.jsx)(l.a,{from:"*",to:"/"})]}),Object(n.jsx)(d,{})]})})},B=c(15),D=c.n(B),Z=c(24),q=c(35),L=c(36),V=function(){function e(){Object(q.a)(this,e),this.apiKey="0eeaa62198c78b27a1a864f00b6de917"}return Object(L.a)(e,[{key:"getPopularMovie",value:function(){var e=Object(Z.a)(D.a.mark((function e(){var t,c,n,a=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,c={method:"GET"},e.next=4,fetch("https://api.themoviedb.org/3/movie/popular?api_key=".concat(this.apiKey,"&language=en-US&page=").concat(t),c).then((function(e){return e.ok?e.json():void console.log("network error")})).catch((function(e){return console.log("error: ".concat(e))}));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDetailMovie",value:function(){var e=Object(Z.a)(D.a.mark((function e(t){var c,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"GET"},e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(this.apiKey,"&language=en-US"),c).then((function(e){return e.ok?e.json():void console.log("network error")})).catch((function(e){return console.log("error: ".concat(e))}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSearchMovie",value:function(){var e=Object(Z.a)(D.a.mark((function e(t){var c,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"GET"},e.next=3,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(this.apiKey,"&language=en-US&query=").concat(t,"&page=1&include_adult=true"),c).then((function(e){return e.ok?e.json():void console.log("network error")})).catch((function(e){return console.log("error: ".concat(e))}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Y=(c(50),new V);i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(p,{children:Object(n.jsx)(R,{movieApi:Y})})}),document.getElementById("root"))},7:function(e,t,c){e.exports={menu:"style_menu__ZIcOA",title:"style_title__Obk9Y",container:"style_container__3O1BJ"}}},[[54,1,2]]]);
//# sourceMappingURL=main.2a8359c5.chunk.js.map